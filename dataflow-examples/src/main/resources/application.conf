# DataFlow Examples Configuration

pekko {
  loggers = ["org.apache.pekko.event.slf4j.Slf4jLogger"]
  loglevel = "INFO"
  logging-filter = "org.apache.pekko.event.slf4j.Slf4jLoggingFilter"

  actor {
    provider = "local"

    serializers {
      jackson-json = "org.apache.pekko.serialization.jackson.JacksonJsonSerializer"
      jackson-cbor = "org.apache.pekko.serialization.jackson.JacksonCborSerializer"
    }

    serialization-bindings {
      "com.dataflow.serialization.CborSerializable" = jackson-cbor
    }
  }

  stream {
    # Stream materializer settings
    materializer {
      # Initial size of buffers used in stream elements
      initial-input-buffer-size = 4
      # Maximum size of buffers used in stream elements
      max-input-buffer-size = 16

      # Cleanup leaked streams after this timeout
      subscription-timeout {
        mode = warn
        timeout = 5s
      }
    }
  }
}
